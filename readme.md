# 题目设计

## 初步思路

### 输入

内容不重复，但无序

1. 开门时每层数据（每层重量，层id）
2. 关门时每层数据（每层重量，层id）
3. 商品列表（商品重量和id）
4. 库存列表（每层id，每个商品id，库存数量）

1）枚举每一层的数据，当发现当前层开门前和开门后的重量不同则认为有存放。

假设我拿了一个$a$重量的商品$A$，又放了一个$a$重量的商品$B$，那么就无法通过重量判断。这种情况文中未说明，暂不考虑。

2）识别算法：

1. 将每一层的商品重量与数量进行一个排列组合计算，然后映射成一个Hash表，如果重量是减少的，计算重量差，然后用哈希表$O(1)
   $时间复杂度就可以找到商品组合，只不过需要预处理出来这个数组，时间复杂度不小。

   ```
   {
   	20: [[{ goodId:1, num:1 }, { goodId:3, num:2 }, { goodId:2, num:1 }]],
   	6: [[{ goodId:1, num:1 }, { goodId:2, num:1 }]]
   }
   ```

2. 感觉这个过程是可以使用DP进行优化的。

3. 商品种类不超过3种，直接用dfs深搜到符合条件的商品组合就行，时间复杂度不会太高，而且比DP想起来简单一些
4. 如果商品的种类很多，那么还是用dp做优化好一些，目前这道题就用dfs了。

## 待优化点

1. 识别算法（dfs）那块估计可以剪枝优化 ✅
2. 加入了传感器误差 ✅
3. 商品包装误差先不弄
2. 测试数据构造起来太长了
3. 代码结构之间的转换看有没有优化点 ✅
4. 测试所有情况。
   - 初步流程跑通（支持不同层拿相同商品） ✅
   - 传感器异常情况 ✅
   - 异物异常情况 ✅
   - 无法识别异常情况（存在多个组合或无组合） ✅


